"""
–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–æ—Ç–∞
"""
import os
from typing import List
from datetime import timezone, timedelta

# –ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥–∞ (UTC+3)
SPB_TIMEZONE = timezone(timedelta(hours=3))

# –¢–æ–∫–µ–Ω –±–æ—Ç–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è)
BOT_TOKEN = os.getenv("BOT_TOKEN", "8510082538:AAGLGVkCdDcMuTD0ELyVVJ_G2hcCV4VDlA4")

# ID –∫–∞–Ω–∞–ª–∞ –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
CHANNEL_ID = int(os.getenv("CHANNEL_ID", "-1002422885792"))

# –°–ø–∏—Å–æ–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
ADMINS: List[int] = [
    898347464, 1918487826, 6639183810, 5134763065, 1723766533,
    1015374059, 6075541234, 2013151975, 331237592
]

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
DATABASE_PATH = "bot_data.db"

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
LOG_FILE = "bot.log"
LOG_LEVEL = "INFO"

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ polling (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è Android/MIUI)
POLLING_TIMEOUT = 10  # –£–º–µ–Ω—å—à–µ–Ω–æ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –æ—Ç–∫–ª–∏–∫–∞ –Ω–∞ Android
LONG_POLLING_TIMEOUT = 5  # –£–º–µ–Ω—å—à–µ–Ω–æ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –æ—Ç–∫–ª–∏–∫–∞ –Ω–∞ Android

# Keepalive –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö)
KEEPALIVE_INTERVAL = 20  # –ü–∏–Ω–≥ –∫–∞–∂–¥—ã–µ 20 —Å–µ–∫—É–Ω–¥

# –õ–∏–º–∏—Ç—ã
MAX_COMMENT_LENGTH = 500
MAX_TRAIN_NAME_LENGTH = 100
MAX_GONG_TEXT_LENGTH = 4000
GONG_RATE_LIMIT = 20  # —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —Å–µ–∫—É–Ω–¥—É
GONG_DELAY = 1  # —Å–µ–∫—É–Ω–¥ –º–µ–∂–¥—É –ø–∞—á–∫–∞–º–∏

# –¢–∞–π–º–∞—É—Ç—ã —Å–æ—Å—Ç–æ—è–Ω–∏–π (–≤ –º–∏–Ω—É—Ç–∞—Ö)
STATE_TIMEOUT = 30

# –î–∞–Ω–Ω—ã–µ –æ –ª–∏–Ω–∏—è—Ö –º–µ—Ç—Ä–æ
LINES = {
    "1": "–ö–∏—Ä–æ–≤—Å–∫–æ‚Äì–í—ã–±–æ—Ä–≥—Å–∫–∞—è",
    "2": "–ú–æ—Å–∫–æ–≤—Å–∫–æ‚Äì–ü–µ—Ç—Ä–æ–≥—Ä–∞–¥—Å–∫–∞—è",
    "3": "–ù–µ–≤—Å–∫–æ‚Äì–í–∞—Å–∏–ª–µ–æ—Å—Ç—Ä–æ–≤—Å–∫–∞—è",
    "4": "–ü—Ä–∞–≤–æ–±–µ—Ä–µ–∂–Ω–∞—è",
    "5": "–§—Ä—É–Ω–∑–µ–Ω—Å–∫–æ‚Äì–ü—Ä–∏–º–æ—Ä—Å–∫–∞—è",
    "6": "–ö—Ä–∞—Å–Ω–æ—Å–µ–ª—å—Å–∫–æ-–ö–∞–ª–∏–Ω–∏–Ω—Å–∫–∞—è"
}

LINE_EMOJI = {
    "1": "üî¥", "2": "üîµ", "3": "üü¢",
    "4": "üü†", "5": "üü£", "6": "üü§"
}

STATIONS = {
    "1": ["–î–µ–≤—è—Ç–∫–∏–Ω–æ", "–ì—Ä–∞–∂–¥–∞–Ω—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç", "–ê–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∞—è", "–ü–æ–ª–∏—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è",
          "–ü–ª–æ—â–∞–¥—å –ú—É–∂–µ—Å—Ç–≤–∞", "–õ–µ—Å–Ω–∞—è", "–í—ã–±–æ—Ä–≥—Å–∫–∞—è", "–ü–ª–æ—â–∞–¥—å –õ–µ–Ω–∏–Ω–∞",
          "–ß–µ—Ä–Ω—ã—à–µ–≤—Å–∫–∞—è", "–ü–ª–æ—â–∞–¥—å –í–æ—Å—Å—Ç–∞–Ω–∏—è", "–í–ª–∞–¥–∏–º–∏—Ä—Å–∫–∞—è", "–ü—É—à–∫–∏–Ω—Å–∫–∞—è",
          "–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –∏–Ω—Å—Ç–∏—Ç—É—Ç", "–ë–∞–ª—Ç–∏–π—Å–∫–∞—è", "–ù–∞—Ä–≤—Å–∫–∞—è", "–ö–∏—Ä–æ–≤—Å–∫–∏–π –∑–∞–≤–æ–¥",
          "–ê–≤—Ç–æ–≤–æ", "–õ–µ–Ω–∏–Ω—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç", "–ü—Ä–æ—Å–ø–µ–∫—Ç –í–µ—Ç–µ—Ä–∞–Ω–æ–≤"],
    "2": ["–ü–∞—Ä–Ω–∞—Å", "–ü—Ä–æ—Å–ø–µ–∫—Ç –ü—Ä–æ—Å–≤–µ—â–µ–Ω–∏—è", "–û–∑–µ—Ä–∫–∏", "–£–¥–µ–ª—å–Ω–∞—è", "–ü–∏–æ–Ω–µ—Ä—Å–∫–∞—è",
          "–ß—ë—Ä–Ω–∞—è —Ä–µ—á–∫–∞", "–ü–µ—Ç—Ä–æ–≥—Ä–∞–¥—Å–∫–∞—è", "–ì–æ—Ä—å–∫–æ–≤—Å–∫–∞—è", "–ù–µ–≤—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç",
          "–°–µ–Ω–Ω–∞—è –ø–ª–æ—â–∞–¥—å", "–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –∏–Ω—Å—Ç–∏—Ç—É—Ç", "–§—Ä—É–Ω–∑–µ–Ω—Å–∫–∞—è",
          "–ú–æ—Å–∫–æ–≤—Å–∫–∏–µ –≤–æ—Ä–æ—Ç–∞", "–ü–∞—Ä–∫ –ü–æ–±–µ–¥—ã", "–≠–ª–µ–∫—Ç—Ä–æ—Å–∏–ª–∞", "–ú–æ—Å–∫–æ–≤—Å–∫–∞—è",
          "–ó–≤—ë–∑–¥–Ω–∞—è", "–ö—É–ø—á–∏–Ω–æ"],
    "3": ["–ë–µ–≥–æ–≤–∞—è", "–ó–µ–Ω–∏—Ç", "–ü—Ä–∏–º–æ—Ä—Å–∫–∞—è", "–í–∞—Å–∏–ª–µ–æ—Å—Ç—Ä–æ–≤—Å–∫–∞—è", "–ì–æ—Å—Ç–∏–Ω—ã–π –¥–≤–æ—Ä",
          "–ú–∞—è–∫–æ–≤—Å–∫–∞—è", "–ü–ª–æ—â–∞–¥—å –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–∞ –ù–µ–≤—Å–∫–æ–≥–æ", "–ï–ª–∏–∑–∞—Ä–æ–≤—Å–∫–∞—è",
          "–õ–æ–º–æ–Ω–æ—Å–æ–≤—Å–∫–∞—è", "–ü—Ä–æ–ª–µ—Ç–∞—Ä—Å–∫–∞—è", "–û–±—É—Ö–æ–≤–æ", "–†—ã–±–∞—Ü–∫–æ–µ"],
    "4": ["–ì–æ—Ä–Ω—ã–π –∏–Ω—Å—Ç–∏—Ç—É—Ç", "–¢–µ–∞—Ç—Ä–∞–ª—å–Ω–∞—è", "–°–ø–∞—Å—Å–∫–∞—è", "–î–æ—Å—Ç–æ–µ–≤—Å–∫–∞—è",
          "–õ–∏–≥–æ–≤—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç", "–ü–ª–æ—â–∞–¥—å –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–∞ –ù–µ–≤—Å–∫–æ–≥–æ", "–ù–æ–≤–æ—á–µ—Ä–∫–∞—Å—Å–∫–∞—è",
          "–õ–∞–¥–æ–∂—Å–∫–∞—è", "–ü—Ä–æ—Å–ø–µ–∫—Ç –ë–æ–ª—å—à–µ–≤–∏–∫–æ–≤", "–£–ª–∏—Ü–∞ –î—ã–±–µ–Ω–∫–æ"],
    "5": ["–ö–æ–º–µ–Ω–¥–∞–Ω—Ç—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç", "–°—Ç–∞—Ä–∞—è –î–µ—Ä–µ–≤–Ω—è", "–ö—Ä–µ—Å—Ç–æ–≤—Å–∫–∏–π –æ—Å—Ç—Ä–æ–≤",
          "–ß–∫–∞–ª–æ–≤—Å–∫–∞—è", "–°–ø–æ—Ä—Ç–∏–≤–Ω–∞—è", "–ê–¥–º–∏—Ä–∞–ª—Ç–µ–π—Å–∫–∞—è", "–°–∞–¥–æ–≤–∞—è",
          "–ó–≤–µ–Ω–∏–≥–æ—Ä–æ–¥—Å–∫–∞—è", "–û–±–≤–æ–¥–Ω—ã–π –∫–∞–Ω–∞–ª", "–í–æ–ª–∫–æ–≤—Å–∫–∞—è", "–ë—É—Ö–∞—Ä–µ—Å—Ç—Å–∫–∞—è",
          "–ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–∞—è", "–ü—Ä–æ—Å–ø–µ–∫—Ç –°–ª–∞–≤—ã", "–î—É–Ω–∞–π—Å–∫–∞—è", "–®—É—à–∞—Ä—ã"],
    "6": ["–°–°–í –ü—É—Ç–∏–ª–æ–≤—Å–∫–∞—è-–ù–∞—Ä–≤—Å–∫–∞—è (6-1)", "–ü—É—Ç–∏–ª–æ–≤—Å–∫–∞—è", "–Æ–≥–æ-–ó–∞–ø–∞–¥–Ω–∞—è"]
}

TIMES = ["–°–µ–π—á–∞—Å", "1 –º–∏–Ω –Ω–∞–∑–∞–¥", "2 –º–∏–Ω –Ω–∞–∑–∞–¥", "3 –º–∏–Ω –Ω–∞–∑–∞–¥", "4 –º–∏–Ω –Ω–∞–∑–∞–¥", "5 –º–∏–Ω –Ω–∞–∑–∞–¥"]

# –°–æ—Å—Ç–æ—è–Ω–∏—è –¥–∏–∞–ª–æ–≥–∞
class States:
    IDLE = 0
    LINE = 1
    TRAIN = 2
    TRAIN_MANUAL = 3
    STATION = 4
    DIRECTION = 5
    TIME = 6
    ROUTE_CHOICE = 7
    ROUTE_MANUAL = 8
    COMMENT = 9
    CONFIRM = 10
